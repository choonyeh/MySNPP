<!DOCTYPE html>
<html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>home1</title>
<link rel="stylesheet" href="../style2.css">
</head>
<body>

  <div class="slideshow-wrapper">
    <button class="arrow left" aria-label="Previous image">&#10094;</button>
    <div class="slideshow" aria-live="polite">
      <img src="show1.png" class="active" alt="Image 1">
      <img src="show2.png" alt="Image 2">
      <img src="show3.png" alt="Image 3">
    </div>
    <button class="arrow right" aria-label="Next image">&#10095;</button>
  </div>


  <img class="content-img" src="home1.png" alt="Home Image">
  <img class="content-img" src="intro1.png" alt="Intro 1">
  <img class="content-img" src="intro2.png" alt="Intro 2">

<script>
(function () {
  function getDocHeight() {
    return Math.max(
      document.body.scrollHeight,
      document.documentElement.scrollHeight
    );
  }

  function sendHeight() {
    try {
      const h = getDocHeight();
      parent.postMessage({ type: 'iframeHeight', height: h }, '*');
    } catch (e) {}
  }

  window.addEventListener('load', () => {
    const imgs = Array.from(document.images || []);
    if (imgs.length === 0) {
      sendHeight();
      return;
    }
    let loaded = 0;
    imgs.forEach(img => {
      if (img.complete) loaded++;
      else {
        img.addEventListener('load', () => { loaded++; if (loaded === imgs.length) sendHeight(); });
        img.addEventListener('error', () => { loaded++; if (loaded === imgs.length) sendHeight(); });
      }
    });
    if (loaded === imgs.length) sendHeight();
  });

  window.addEventListener('message', (ev) => {
    const d = ev.data || {};
    if (d.type === 'requestHeight') sendHeight();
  });
})();

/* ============================
   Manual navigation for slideshow
   (query DOM after elements exist)
============================ */
document.addEventListener('DOMContentLoaded', () => {
  const slides = Array.from(document.querySelectorAll('.slideshow img'));
  const leftBtn = document.querySelector('.arrow.left');
  const rightBtn = document.querySelector('.arrow.right');
  let currentIndex = 0;

  function showSlide(index) {
    slides.forEach((img, i) => {
      img.classList.toggle('active', i === index);
    });

    // Inform parent to recompute iframe height after change (small delay)
    setTimeout(() => {
      try {
        const h = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
        parent.postMessage({ type: 'iframeHeight', height: h }, '*');
      } catch (e) {}
    }, 50);
  }

  leftBtn.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + slides.length) % slides.length;
    showSlide(currentIndex);
  });

  rightBtn.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % slides.length;
    showSlide(currentIndex);
  });

  // keyboard support
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') leftBtn.click();
    if (e.key === 'ArrowRight') rightBtn.click();
  });


  // AUTO-SLIDE EVERY 3 SECONDS
   setInterval(() => {
        currentIndex = (currentIndex + 1) % slides.length;
        showSlide(currentIndex);
  }, 3000);


});


</script>

</body>
</html>
